<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>StringTemplate Online Sandbox</title>
    <link rel="stylesheet" type="text/css" href="../css/stringtemplate.css" />
  </head>

  <!-- Adapted from w3schools. -->
  <body>
    <h1>StringTemplate Online Sandbox</h1>

    <p>
      This webapp exists to make it easy for new users to try the <a href="http://stringtemplate.org">StringTemplate language</a>.  The JSON code provides the data model with which the template is populated; try changing both and then press the "Process template" button to see the result.  See the <a href="http://www.antlr.org/wiki/display/ST/StringTemplate+cheat+sheet">cheat sheet</a> for instructions on how to use StringTemplate.
    </p>

    <table class="maintable">
      <tr>
        <td width="50%">
          
          <form action="/stringtemplatetest" method="post" target="view">

            <h2>StringTemplate</h2>
            <textarea name="string_template_content" class="code_input" id="pre_code" wrap="logical">
group bookstore;


// Entry point into the templates; can be named anything in a real program but
// I have chosen to render the template named 'main' for simplicity sake.
main()::=&lt;&lt;

&lt;h1&gt;Welcome to the Bookstore&lt;/h1&gt;

$! Simple variable substitution !$
&lt;p&gt;Hello $name$! Welcome to the bookstore.  Here are our titles:&lt;/p&gt;

&lt;table&gt;
    $! List literal !$
    &lt;tr&gt;$["Name","Author"]:{ item | &lt;th&gt;$item$&lt;/th&gt; }$&lt;/tr&gt;
    &lt;tr&gt;
        $! Apply the book_table_row template to each item in the books_list array !$
        $library:book_table_row(); separator="\n"$
    &lt;/tr&gt;
&lt;/table&gt;


&gt;&gt;

book_table_row(book)::=&lt;&lt;
&lt;td&gt;$book.name$&lt;/th&gt;
$! Conditional output; check for existence of variable. !$
&lt;td&gt;
$if(book.author)$
$book.author$
$else$
Anonymous
$endif$
&lt;/td&gt;
&gt;&gt;


bold(item)::=&lt;&lt;
&lt;b&gt;$item$&lt;/b&gt;
&gt;&gt;

italics(item)::=&lt;&lt;
&lt;i&gt;$item$&lt;/i&gt;
&gt;&gt;
            </textarea>
            
            <center><button type="submit" class="minimal">Process template</button></center>
            
            <h2>JSON</h2>
            <textarea name="json_content" class="code_input" id="json_code" wrap="logical">
{
  "name": "Nick",
  "library": [
    {
      "name":"The Bonfire of the Humanities",
      "author":"Victor Davis Hanson"
    },
    {
      "name":"The Bible"
    }
  ]
}
            </textarea>
          </form>
        </td>
                
        <td valign="top">
          <h2>Rendered Template</h2>
          <iframe class="result_output" width="100%" height="100%" frameborder="0" name="view"></iframe>
        </td>
      </tr>
    </table>

    <footer class="bottomtext">
      Written by <a href="http://about.me/nicholasdunn">Nicholas Dunn</a>.  Not affiliated with StringTemplate or Terence Parr.  Builds upon ideas of <a href="http://www.antlr.org/wiki/display/ST/STST+-+StringTemplate+Standalone+Tool">John Snyder's StringTemplate Standalone Tool</a>.  CSS and basic layout modified from <a href="http://w3schools.com/tryit.css">w3schools</a>.  Buttons modified from <a href="http://ubuwaits.github.com/css3-buttons/">Chad Mazzola's CSS3 buttons</a>
    </footer>
  </body>
</html>
